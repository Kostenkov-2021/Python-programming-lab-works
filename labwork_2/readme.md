# Программирование Python

# Лабораторная работа №2

## Костенков Данил Денисович

## Группа P4150


# Документация к реализации игры "Угадай число"


Цель игры - найти число в заданном диапазоне, используя различные алгоритмы поиска. Поддерживает линейный и бинарный поиск, включает полный набор тестов и интерактивный режим.

## Оглавление

- [Обзор](#обзор)
- [Использование](#использование)
  - [Базовое использование](#базовое-использование)
  - [Аргументы командной строки](#аргументы-командной-строки)
  - [Интерактивный режим](#интерактивный-режим)
- [Документация API](#Документация API)
  - [Основные функции](#основные-функции)
  - [Вспомогательные функции](#вспомогательные-функции)
- [Алгоритмы поиска](#алгоритмы-поиска)
  - [Линейный поиск](#линейный-поиск)
  - [Бинарный поиск](#бинарный-поиск)
- [Тестирование](#тестирование)
  - [Запуск тестов](#запуск-тестов)
  - [Покрытие тестами](#покрытие-тестами)
- [Примеры использования](#примеры-использования)
- [Обработка ошибок](#обработка-ошибок)

## Обзор

Этот проект предоставляет реализацию двух алгоритмов поиска числа в списке:
- **Линейный поиск** - последовательная проверка каждого элемента  - **Бинарный поиск** - эффективный поиск в отсортированном массиве

Программа включает:
- Интерактивный режим работы - позволяет запускать игру и тесты
- Полный набор тестов
- Гибкие варианты запуска
- Подробную обработку ошибок


## Использование

### Базовое использование

Запуск программы без аргументов запускает интерактивный режим:

```bash
python number_guess.py
```

### Аргументы командной строки

Программа поддерживает следующие аргументы:

```bash
# Только интерактивный режим (по умолчанию)
python number_guess.py

# Только запуск тестов
python number_guess.py test

# Запуск и программы, и тестов
python number_guess.py both
```

### Интерактивный режим

В интерактивном режиме программа запросит:

1. **Загаданное число** - число, которое нужно найти
2. **Начало диапазона** - минимальное число в списке
3. **Конец диапазона** - максимальное число в списке
4. **Метод поиска** - `linear` (линейный) или `binary` (бинарный)

**Пример сессии:**
```
=== Игра "Угадай число" ===
Введите загаданное число: 42
Начало диапазона: 1
Конец диапазона: 100
Метод (linear/binary): binary
Число 42 угадано за 6 попыток
```

## Документация API

### Основные функции

#### `guess_number(target, numbers, method='linear')`

Основная функция для поиска числа в списке.

**Параметры:**
- `target` (int) - число для поиска
- `numbers` (list) - список чисел для поиска
- `method` (str) - метод поиска: `'linear'` или `'binary'` (по умолчанию `'linear'`)

**Возвращает:**
- `tuple` - кортеж (найденное число, количество попыток)

**Исключения:**
- `ValueError` - если список пуст или указан неизвестный метод

**Пример:**
```python
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
result, attempts = guess_number(7, numbers, 'binary')
print(f"Найдено число {result} за {attempts} попыток")
```

#### `_linear_search(target, numbers)`

Внутренняя функция линейного поиска.

**Параметры:**
- `target` (int) - число для поиска
- `numbers` (list) - список чисел для поиска

**Возвращает:**
- `tuple` - кортеж (найденное число, количество попыток)

**Исключения:**
- `ValueError` - если число не найдено в списке

#### `_binary_search(target, numbers)`

Внутренняя функция бинарного поиска.

**Параметры:**
- `target` (int) - число для поиска
- `numbers` (list) - список чисел для поиска (автоматически сортируется)

**Возвращает:**
- `tuple` - кортеж (найденное число, количество попыток)

**Исключения:**
- `ValueError` - если число не найдено в списке

### Вспомогательные функции

#### `input_parameters()`

Запрашивает у пользователя параметры поиска.

**Возвращает:**
- `tuple` - кортеж (target, start, end, method)

#### `main()`

Основная функция программы, управляющая интерактивным режимом.

#### `run_tests()`

Запускает набор тестов с форматированным выводом.

**Возвращает:**
- `bool` - `True` если все тесты пройдены, иначе `False`

## Алгоритмы поиска

### Линейный поиск

**Характеристики:**
- Временная сложность: O(n)
- Пространственная сложность: O(1)
- Не требует сортировки списка
- Работает с любыми типами данных, поддерживающими сравнение

**Принцип работы:**
Последовательно проверяет каждый элемент списка от начала до конца, пока не найдет целевое число.

### Бинарный поиск

**Характеристики:**
- Временная сложность: O(log n)
- Пространственная сложность: O(n) - из-за необходимости сортировки
- Требует сортировки списка (выполняется автоматически)
- Работает только с comparable данными

**Принцип работы:**
1. Сортирует входной список
2. Находит средний элемент
3. Сравнивает с целевым числом
4. В зависимости от результата продолжает поиск в левой или правой половине
5. Повторяет до нахождения элемента или исчерпания диапазона

## Тестирование

### Запуск тестов

```bash
# Способ 1: Через аргумент командной строки
python number_guess.py test

# Способ 2: Через интерактивный запрос после основной программы
python number_guess.py
# После выполнения программы ответьте 'y' на запрос о запуске тестов

# Способ 3: Одновременный запуск программы и тестов
python number_guess.py both
```

### Покрытие тестами

Набор тестов включает следующие категории:

#### Тесты линейного поиска
- Поиск первого, последнего и среднего элементов
- Обработка дубликатов
- Работа с отрицательными числами

#### Тесты бинарного поиска
- Поиск в отсортированных и неотсортированных списках
- Поиск граничных элементов
- Обработка дубликатов
- Работа с отрицательными числами

#### Специальные случаи
- Списки из одного элемента
- Пустые списки
- Несуществующие элементы
- Нулевые значения

#### Тесты производительности
- Большие списки (1000 элементов)
- Сравнение эффективности алгоритмов

#### Тесты ввода/вывода
- Корректность ввода параметров
- Проверка вывода программы

## Примеры использования

### Пример 1: Базовое использование

```python
from number_guess import guess_number

# Линейный поиск
numbers = [5, 2, 8, 1, 9, 3]
result, attempts = guess_number(8, numbers, 'linear')
print(f"Линейный поиск: найдено {result} за {attempts} попыток")
# Вывод: Линейный поиск: найдено 8 за 3 попыток

# Бинарный поиск
result, attempts = guess_number(8, numbers, 'binary')
print(f"Бинарный поиск: найдено {result} за {attempts} попыток")
# Вывод: Бинарный поиск: найдено 8 за 2 попыток
```

### Пример 2: Обработка ошибок

```python
from number_guess import guess_number

try:
    # Пустой список
    result = guess_number(5, [], 'linear')
except ValueError as e:
    print(f"Ошибка: {e}")
    # Вывод: Ошибка: Список чисел не может быть пустым

try:
    # Неизвестный метод
    result = guess_number(5, [1, 2, 3], 'unknown')
except ValueError as e:
    print(f"Ошибка: {e}")
    # Вывод: Ошибка: Неизвестный метод. Используйте 'linear' или 'binary'

try:
    # Число отсутствует в списке
    result = guess_number(10, [1, 2, 3], 'linear')
except ValueError as e:
    print(f"Ошибка: {e}")
    # Вывод: Ошибка: Целевое число отсутствует в списке
```

### Пример 3: Сравнение эффективности

```python
from number_guess import guess_number

# Большой список для демонстрации разницы в эффективности
large_list = list(range(1, 1001))

# Линейный поиск последнего элемента
_, linear_attempts = guess_number(1000, large_list, 'linear')
print(f"Линейный поиск: {linear_attempts} попыток")
# Вывод: Линейный поиск: 1000 попыток

# Бинарный поиск последнего элемента
_, binary_attempts = guess_number(1000, large_list, 'binary')
print(f"Бинарный поиск: {binary_attempts} попыток")
# Вывод: Бинарный поиск: 10 попыток
```

## Обработка ошибок

Программа обрабатывает следующие типы ошибок:

1. **Пустой список** - `ValueError: "Список чисел не может быть пустым"`
2. **Неизвестный метод поиска** - `ValueError: "Неизвестный метод. Используйте 'linear' или 'binary'"`
3. **Число отсутствует в списке** - `ValueError: "Целевое число отсутствует в списке"`
4. **Некорректный ввод пользователя** - обрабатывается с помощью `int()` и проверок

Все ошибки выводятся в понятном формате и не приводят к аварийному завершению программы.

