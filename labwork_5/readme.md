# Программирование Python

# Лабораторная работа №5

## Костенков Данил Денисович

## Группа P4150


# Генератор бинарных деревьев

Программа для генерации бинарных деревьев с использованием нерекурсивного подхода на языке Python.

## Описание

Данная программа позволяет строить бинарные деревья (деревья, в каждом узле которого может быть только два потомка) с заданными параметрами. Реализовано два способа хранения структуры дерева: в виде словаря и в виде deque из модуля collections.

## Функциональность

### Основные функции

#### `gen_bin_tree(height=5, root=6, left_branch=lambda r: r*2-2, right_branch=lambda r: r+4) -> dict`

Генерирует бинарное дерево в виде словаря.

**Параметры:**
- `height` (int): Высота дерева (количество уровней). По умолчанию: 5
- `root` (int): Значение корневого узла. По умолчанию: 6
- `left_branch` (Callable): Функция для вычисления левого потомка. По умолчанию: `(root*2)-2`
- `right_branch` (Callable): Функция для вычисления правого потомка. По умолчанию: `root+4`

**Возвращает:**
- `dict`: Словарь, представляющий структуру дерева, где ключи - это пути к узлам, а значения - числа.

**Пример использования:**
```python
from main import gen_bin_tree

# С параметрами по умолчанию
tree1 = gen_bin_tree()
print(tree1)

# С пользовательскими параметрами
tree2 = gen_bin_tree(
    height=3, 
    root=10,
    left_branch=lambda r: r + 5,
    right_branch=lambda r: r * 2
)
print(tree2)
```

#### `gen_bin_tree_deque(height=5, root=6, left_branch=lambda r: r*2-2, right_branch=lambda r: r+4) -> deque`

Генерирует бинарное дерево в виде deque из модуля collections.

**Параметры:** аналогично `gen_bin_tree`

**Возвращает:**
- `deque`: Очередь, содержащая узлы дерева в порядке обхода по уровням.

**Пример использования:**
```python
from main import gen_bin_tree_deque

tree_deque = gen_bin_tree_deque(height=4, root=8)
for branch, value in tree_deque:
    print(f"{branch}: {value}")
```

## Структура проекта

```
project/
├── main.py          # Основной модуль с функциями генерации деревьев
├── test_main.py     # Модуль с unit-тестами
└── README.md        # Документация (этот файл)
```

## Установка и запуск

### Требования
- Python 3.6+
- Стандартная библиотека Python (нет внешних зависимостей)

### Запуск программы

```bash
# Запуск основного модуля
python main.py

# Запуск тестов
python -m unittest test_main.py

# Или альтернативный способ запуска тестов
python test_main.py
```

## Примеры вывода

### Пример 1: Дерево как словарь
```python
tree = gen_bin_tree(height=2, root=5)
# Результат:
# {
#     'root': 5,
#     'root_left': 8,
#     'root_right': 9
# }
```

### Пример 2: Дерево как deque
```python
tree = gen_bin_tree_deque(height=2, root=5)
# Результат:
# deque([('root', 5), ('root_left', 8), ('root_right', 9)])
```

## Особенности реализации

1. **Нерекурсивный подход**: Используется стек (deque) для обхода дерева в глубину
2. **Гибкость параметров**: Можно настраивать высоту, корень и алгоритмы вычисления потомков
3. **Две структуры данных**: 
   - Словарь (удобно для доступа по ключам)
   - Deque (эффективная очередь для обхода по уровням)
4. **Аннотации типов**: Все функции имеют аннотации типов для лучшей читаемости кода
5. **Полная документация**: Код документирован в соответствии с PEP-257

## Тестирование

Программа включает комплекс unit-тестов, проверяющих:
- Работу с параметрами по умолчанию
- Пользовательские параметры высоты и корня
- Пользовательские функции ветвления
- Граничные случаи (нулевая высота, высота 1)
- Согласованность между двумя версиями генерации

Для запуска тестов используйте:
```bash
python -m unittest test_main.py
```

## Алгоритм именования узлов

Узлы дерева именуются по пути от корня:
- Корень: `"root"`
- Левый потомок корня: `"root_left"`
- Правый потомок корня: `"root_right"`
- Левый потомок левого потомка: `"root_left_left"`
- И так далее...

